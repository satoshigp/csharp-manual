# 変数～動的なプログラム～
ボタンを押したら、ボタンが動く方向を反転させるにはどうしたらよいだろうか。

## 問題点
-  移動する値をプログラムに直接書き込んでるので、実行後に値を変えることはできない


## 解決策
 -  値を直接プログラムに書き込まずに<b>変数</b>を使う
 -  変数とは:データを入れておく入れ物のこと

## C#での変数の使い方
1. 記録するデータ型と、変数の名前を書いて、変数を定義
2. 変数に値を代入する
3. 変数の値を使いたい場所に、変数名を書く

## 変数定義の書き方
int型のaという名前の変数を定義する。

```cs
   int a;
```

float型のfwという名前の変数を定義する。

```cs
   float fw;
```

string型のstrという名前の変数を定義する。

```cs
   string str;
```

int型のbという名前の変数を定義し、10を代入する。

```cs
   int b=10;
```

float型のfw2という名前の変数を定義し、-10.5を代入する。

```cs
   float fw2=-10.5f;
```

string型のstr2という名前の変数を定義し、「こんにちは」と代入する。

```cs
   string str="こんにちは";
```

## 演習7-1
「演習7-1」ボタンを作成して、クリック時にint型の変数vxを定義して、5を代入。メッセージボックスでvxを表示させてみよう。

## 演習7-2
「演習7-2」ボタンを作成して、クリック時にメッセージボックスでvxを表示するコードを書いてみよう。Startしようとすると何が起きるか、また、vxはどこで有効かを以下に記せ。

### 何が起きる？
 エラーが起きる！
### vxの有効範囲は？
- 演習7-1のbボタンの中だけ
- つまり、つまり変数を定義したのと同じブロック以下でのみしか使えない
- ブロックとは、波括弧{}で囲まれた範囲

## 演習7-3
クラス定義(class)の直下に、int型の変数vxを定義して、10を代入するコードを追加する。Startして、以下に解答しよう。

### 演習7-2と比べてどうなった？

### 演習7-1ボタンと、演習7-2ボタンを交互に押して、それぞれ何が表示されるか？

- 演習7-1・・・(     5     )
- 演習7-2・・・(     10    )
- 分かったことをまとめよう
- 演習7-1で定義したvxと、演習7-2で定義したvxは別物である


## データの代入方法
定義済みのint型変数aに、100を代入する。

```cs
int a=5;
a = 100;
```

定義済みのfloat型変数fwに、3.14を代入する。

```cs
fw=3.14
```

定義済みのstring型変数strに、「こんにちは」を代入する。

```cs
str="こんにちは";
```

## 演習7-4
「演習7-4」ボタンを作成して、vxを10増やして、vxをMessageBoxで表示するコードを入力したらStartして、以下に解答しよう。

次の順番にボタンを押して、表示される内容を記入しよう。
- 演習7-2：10
- 演習7-1：5
- 演習7-2：10
- 演習7-4：20
- 演習7-2：20
- 演習7-1：5
- 演習7-4：30
- 演習7-2：30

### 分かったことをまとめよう
- 演習7-1は中で宣言したvx=5を参照している
- 演習7-2、演習7-4は、classの値以下に宣言したvx=10を参照してる
- 同じ変数名があったとき、変数定義があれば定義した変数を参照、なければ外側で定義した変数を参照
 
## 変数の有効範囲
|-              |定義する場所|有効範囲|
|:-------------:|-----------|-------|
|ローカル変数    |    関数内のブロックの中|  直近の{{の中で、外の出たら消える     |
|インスタンス変数|       クラス定義の直下    |  インスタンスは消さない限り有効     |
|クラス変数     |        クラス定義の直下で、staticキーワードをつけて定義   |    プログラムが実行中は有効     |

##	変数名の制約やルール
- 変数名の最初の1文字目は、( アルファベット)か(アンダーバー_ )
- 2文字目以降は、(アルファベット )か( アンダーバー)か(数字 )
- (予約語 )は使えない(例 intやstringなど)
- (キャメルケース )：HelloWorld / helloWorld
- ( スネークケース)：hello_world
- (ケバブケース )(C#では不可)：hello-world / Hello-World

## 注意！
- 変数名には日本語も使えるが、使うことは一般的ではない。変な癖を付けないように日本語の変数や関数名は使わないようにしよう！
- プログラム関連のファイル名に日本語を使うことはやめよう！

## 演習7-5
以下のようなプログラムを作成してみよう。
- Timerを置いて、Enabledをtrueにして、timer1をダブルクリック
- エディタが開いた場所に、演習7-4ボタンのLeftプロパティが vx 増えるようにする
- Startして、演習7-4ボタンを押して、動作を確認しよう

## 違う型の変数への代入
課題：以下の書き方についてインターネットなどで調べて解答しなさい。変数は予め定義されているものとする。

(解答例) string型変数str に、int型変数aの値を代入する。

```cs
str = a.ToString();
str = ""+a;
```

string型変数strに、float型変数fwの値を代入する。

```cs
str = fw.Tostring();
str =""+fw;
```

int型変数aに、float型変数fwの値を代入する。

```cs
//型キャスト
a = (int)fw;

```

int型変数aに、string型変数strの値を代入する。

```cs
a = int.Parse(str)
```

float型変数fwに、int型変数aの値を代入する。

```cs
fw= a;

fw = (float)a;
```

float型変数fwに、string型変数strの値を代入する。

```cs
fw = float.Parse(str);
```

---

[前へ](06.md) | [目次へ](README.md#%E7%9B%AE%E6%AC%A1) | [次へ](08.md)
